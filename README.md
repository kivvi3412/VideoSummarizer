# æ™ºèƒ½è§†é¢‘å†…å®¹åˆ†æå·¥å…·

åŸºäº Django + Whisper + OpenAI çš„è§†é¢‘æ€»ç»“å·¥å…·ï¼Œæ”¯æŒ YouTube/Bilibili è§†é¢‘é“¾æ¥å’Œæœ¬åœ°éŸ³é¢‘æ–‡ä»¶å¤„ç†ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ **è§†é¢‘é“¾æ¥å¤„ç†**: æ”¯æŒ YouTubeã€Bilibili ç­‰å¹³å°
- ğŸ“ **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒæœ¬åœ°éŸ³é¢‘/è§†é¢‘æ–‡ä»¶
- ğŸ¤– **AI æ€»ç»“**: ä½¿ç”¨ OpenAI API ç”Ÿæˆæ™ºèƒ½æ€»ç»“
- ğŸ¯ **å®æ—¶è¿›åº¦**: ä»»åŠ¡é˜Ÿåˆ—å’Œè¿›åº¦è¿½è¸ª
- ğŸ’¾ **åŠ¨æ€åŠ è½½**: å¯é€‰çš„æ¨¡å‹è‡ªåŠ¨åŠ è½½/å¸è½½åŠŸèƒ½
- ğŸ–¥ï¸ **ç°ä»£ç•Œé¢**: Apple é£æ ¼çš„æš—é»‘ä¸»é¢˜è®¾è®¡

## æŠ€æœ¯æ ˆ

- **åç«¯**: Django 4.2 + Django REST Framework
- **AI æ¨¡å‹**: OpenAI Whisper (è¯­éŸ³è½¬å½•) + OpenAI GPT (å†…å®¹æ€»ç»“)
- **å‰ç«¯**: åŸç”Ÿ JavaScript + ç°ä»£ CSS
- **è§†é¢‘å¤„ç†**: yt-dlp

## é¡¹ç›®ç»“æ„

```
VideoSummarizer/
â”œâ”€â”€ app/                    # ä¸»åº”ç”¨ (åˆå¹¶äº†åŸæ¥çš„ apiã€coreã€tasks)
â”‚   â”œâ”€â”€ models.py          # æ•°æ®æ¨¡å‹ (ç”¨æˆ·è®¾ç½®ã€è§†é¢‘ä»»åŠ¡)
â”‚   â”œâ”€â”€ views.py           # API è§†å›¾
â”‚   â”œâ”€â”€ services.py        # æ ¸å¿ƒæœåŠ¡ (Whisper + OpenAI)
â”‚   â”œâ”€â”€ urls.py            # URL è·¯ç”±
â”‚   â”œâ”€â”€ admin.py           # ç®¡ç†ç•Œé¢
â”‚   â””â”€â”€ migrations/        # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ static/                # é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ css/style.css      # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/app.js          # å‰ç«¯é€»è¾‘
â”œâ”€â”€ templates/             # æ¨¡æ¿æ–‡ä»¶
â”‚   â””â”€â”€ index.html         # ä¸»é¡µé¢
â”œâ”€â”€ media/                 # åª’ä½“æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ VideoSummarizer/       # Django é¡¹ç›®é…ç½®
â””â”€â”€ manage.py              # Django ç®¡ç†è„šæœ¬
```

## å¿«é€Ÿå¼€å§‹

1. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

2. **æ•°æ®åº“è¿ç§»**
   ```bash
   python manage.py migrate
   ```

3. **å¯åŠ¨æœåŠ¡å™¨**
   ```bash
   python manage.py runserver 0.0.0.0:18000
   ```

4. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:18000`

## é…ç½®è¯´æ˜

åœ¨è®¾ç½®é¡µé¢ä¸­é…ç½®ï¼š

- **OpenAI API**: API Keyã€Base URLã€æ¨¡å‹é€‰æ‹©
- **Whisper æ¨¡å‹**: æ¨¡å‹å¤§å°ã€è®¡ç®—è®¾å¤‡ (CPU/CUDA)
- **åŠ¨æ€åŠ è½½**: ä»»åŠ¡æ—¶è‡ªåŠ¨åŠ è½½æ¨¡å‹ï¼Œå®Œæˆåè‡ªåŠ¨å¸è½½
- **æç¤ºè¯**: è‡ªå®šä¹‰éŸ³é¢‘å’Œ URL æ€»ç»“çš„æç¤ºè¯

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿æœ‰è¶³å¤Ÿçš„æ˜¾å­˜è¿è¡Œ Whisper æ¨¡å‹
- OpenAI API éœ€è¦æœ‰æ•ˆçš„ API Key
- æ”¯æŒçš„è§†é¢‘å¹³å°: YouTubeã€Bilibili
- åŠ¨æ€åŠ è½½åŠŸèƒ½å¯æ˜¾è‘—èŠ‚çœæ˜¾å­˜å ç”¨

## API æ¥å£

### ä»»åŠ¡ç®¡ç†
- `GET /api/tasks/` - è·å–ä»»åŠ¡åˆ—è¡¨
- `POST /api/tasks/create-url/` - åˆ›å»º URL ä»»åŠ¡
- `POST /api/tasks/create-file/` - åˆ›å»ºæ–‡ä»¶ä»»åŠ¡
- `DELETE /api/tasks/{id}/delete/` - åˆ é™¤ä»»åŠ¡

### è®¾ç½®ç®¡ç†
- `GET /api/settings/` - è·å–ç”¨æˆ·è®¾ç½®
- `POST /api/settings/update/` - æ›´æ–°ç”¨æˆ·è®¾ç½®

### æ¨¡å‹ç®¡ç†
- `GET /api/model/status/` - è·å–æ¨¡å‹çŠ¶æ€
- `POST /api/model/manage/` - åŠ è½½/å¸è½½æ¨¡å‹

### é˜Ÿåˆ—çŠ¶æ€
- `GET /api/queue/status/` - è·å–é˜Ÿåˆ—çŠ¶æ€